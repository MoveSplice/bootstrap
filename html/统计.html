<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="jquery.js"></script>

</head>
    <style>
    body{
        font-family: Roboto, "Helvetica Neue", Helvetica, "Hiragino Sans GB", STHeitiSC-Light, "Microsoft YaHei", 微软雅黑, Arial, sans-serif;
        font-size: 14px;
        line-height: 1.42857;
        color: rgb(51, 51, 51);
        background-color: rgb(255, 255, 255);
    }
    .table>thead>tr>th, .table>tbody>tr>th, .table>tfoot>tr>th, .table>thead>tr>td, .table>tbody>tr>td, .table>tfoot>tr>td{
        padding: 8px;
        line-height: 1.42857143;
        vertical-align: top;
        border-top: 1px solid #ddd;
    }
    .pool-panel-share-table th, .pool-panel-share-table td{
        text-align: right;
    }
    .table{
        width: 100%;
        max-width: 100%;
        margin-bottom: 20px;
    }
    table{
        background-color: transparent;
        border-collapse: collapse;
        border-spacing: 0;
    }
    tbody{
        display: table-row-group;
        vertical-align: middle;
        border-color: inherit;
    }
    tr{
        display: table-row;
        vertical-align: inherit;
        border-color: inherit;
    }
    .pool-panel-interval{
        margin-bottom: 15px;
    }
    .pool-panel-interval ul{
        list-style: none;
        padding-left: 0;
        margin-bottom: 0;
    }
    .pool-panel-interval li{
        float: left;
        margin-right: 10px;
    }
</style>
    <script>
        var arr = {
            "a1":100,
            "a2":105,
            "a3":77,
            "a4":150,
            "a5":123,
            "a6":0
        };
        $("#box").html("<h1>"+arr.a1+"</h1>");
        var globals = {
            chartWidth: 330,
            chartHeight: 240,
            pools: [
                // {"n":"124",
                //     "p":0.26898047722343,
                //     "name":"BTC.com",
                //     "id":"55",
                //     "hash_share":6.6652264305995e+18,
                //     "count":"124"
                // },
                // {"n":"44",
                //     "p":0.16052060737527,
                //     "name":"AntPool",
                //     "id":"29",
                //     "hash_share":3.9776351279384e+18,
                //     "count":"74"
                // },
                // {"n":"56",
                //     "p":0.12147505422993,
                //     "name":"SlushPool",
                //     "id":"7",
                //     "hash_share":3.0101022589804e+18,
                //     "count":"56"
                // },
                // {"n":"48",
                //     "p":0.10412147505423,
                //     "name":"ViaBTC",
                //     "id":"54",
                //     "hash_share":2.5800876505546e+18,
                //     "count":"48"
                // },
                // {"n":"37",
                //     "p":0.080260303687636,
                //     "name":"BTC.TOP",
                //     "id":"59",
                //     "hash_share":1.9888175639692e+18,
                //     "count":"37"
                // },
                // {"n":"26",
                //     "p":0.056399132321041,
                //     "name":"F2Pool",
                //     "id":"22",
                //     "hash_share":1.3975474773838e+18,
                //     "count":"26"
                // },
                // {"n":"19",
                //     "p":0.041214750542299,
                //     "name":"BTCC",
                //     "id":"38",
                //     "hash_share":1.0212846950112e+18,
                //     "count":"19"
                // },
                // {"n":"10",
                //     "p":0.021691973969631,
                //     "name":"BitClub",
                //     "id":"36",
                //     "hash_share":5.3751826053222e+17,
                //     "count":"10"
                // },
                // {"n":"7",
                //     "p":0.015184381778742,
                //     "name":"BitFury",
                //     "id":"41",
                //     "hash_share":3.7626278237255e+17,
                //     "count":"7"
                // },
                // {"n":"7",
                //     "p":0.015184381778742,
                //     "name":"CanoePool",
                //     "id":"64",
                //     "hash_share":3.7626278237255e+17,
                //     "count":"7"
                // },
                // {"n":"5",
                //     "p":0.010845986984816,
                //     "name":"58COIN",
                //     "id":"69",
                //     "hash_share":2.6875913026611e+17,
                //     "count":"5"
                // },
                {
                    "n":"5",
                    "p":arr.a1,
                    "name":"A1",
                    "id":"57",
                    "hash_share":2.6875913026611e+17,
                    "count":"7"
                },
                {
                    "n":"5",
                    "p":arr.a6,
                    "name":"未激活",
                    "id":"79",
                    "hash_share":2.6875913026611e+17,
                    "count":"6"
                },
                {"n":"5",
                    "p":arr.a2,
                    "name":"A2",
                    "id":"56",
                    "hash_share":2.6875913026611e+17,
                    "count":"5"
                },
                {
                    "n":"4",
                    "p":arr.a3,
                    "name":"A3",
                    "id":"39","hash_share":2.1500730421289e+17,
                    "count":"4"
                },
                {
                    "n":"3",
                    "p":arr.a4,
                    "name":"A4",
                    "id":"33",
                    "hash_share":1.6125547815967e+17,
                    "count":"3"
                },
                {
                    "n":"1",
                    "p":arr.a5,
                    "name":"A5",
                    "id":"68",
                    "hash_share":5.3751826053222e+16,
                    "count":"1"
                }
            ],
            poolHistoryData: {
                // poolPercentHistory: {
                //     "BTC.com":[
                //         "0.0440",
                //         "0.0426",
                //         "0.0647",
                //         "0.0767",
                //         "0.0819",
                //         "0.1173",
                //         "0.1158",
                //         "0.1142",
                //         "0.1438",
                //         "0.1708",
                //         "0.2204",
                //         "0.2598"
                //     ],
                //     "AntPool":
                //         [
                //             "0.1576",
                //             "0.1654",
                //             "0.1655",
                //             "0.1673",
                //             "0.2120",
                //             "0.1825",
                //             "0.1580",
                //             "0.1922",
                //             "0.1742",
                //             "0.1770",
                //             "0.1899",
                //             "0.1536"
                //         ],
                //     "BTC.TOP":
                //         [
                //             "0.0622",
                //             "0.0840",
                //             "0.0993",
                //             "0.1416",
                //             "0.1257",
                //             "0.1217",
                //             "0.1341",
                //             "0.1283",
                //             "0.1296",
                //             "0.1326",
                //             "0.1314",
                //             "0.1183"
                //         ],
                //     "ViaBTC":
                //         [
                //             "0.0697",
                //             "0.0408",
                //             "0.0544",
                //             "0.0470",
                //             "0.0497",
                //             "0.0558",
                //             "0.1007",
                //             "0.1007",
                //             "0.1360",
                //             "0.1229",
                //             "0.1175",
                //             "0.1183"
                //         ],
                //     "Other":
                //         [
                //             "0.2742",
                //             "0.2796",
                //             "0.2649",
                //             "0.2603",
                //             "0.2668",
                //             "0.2229",
                //             "0.1905",
                //             "0.1622",
                //             "0.1359",
                //             "0.1238",
                //             "0.1011",
                //             "0.1106"
                //         ],
                //     "SlushPool":
                //         [
                //             "0.0648",
                //             "0.0570",
                //             "0.0515",
                //             "0.0485",
                //             "0.0426",
                //             "0.0542",
                //             "0.0560",
                //             "0.0679",
                //             "0.0928",
                //             "0.1076",
                //             "0.1052",
                //             "0.1041"
                //         ],
                //     "F2Pool":
                //         [
                //             "0.1190",
                //             "0.1066",
                //             "0.0958",
                //             "0.0962",
                //             "0.0784",
                //             "0.0790",
                //             "0.0873",
                //             "0.0907",
                //             "0.0809",
                //             "0.0783",
                //             "0.0548",
                //             "0.0490"
                //         ],
                //     "BTCC":
                //         [
                //             "0.0708",
                //             "0.0904",
                //             "0.0839",
                //             "0.0749",
                //             "0.0755",
                //             "0.0726",
                //             "0.0737",
                //             "0.0702",
                //             "0.0444",
                //             "0.0296",
                //             "0.0241",
                //             "0.0380"
                //         ],
                //     "BitClub":
                //         [
                //             "0.0300",
                //             "0.0324",
                //             "0.0359",
                //             "0.0349",
                //             "0.0334",
                //             "0.0427",
                //             "0.0404",
                //             "0.0340",
                //             "0.0281",
                //             "0.0300",
                //             "0.0239",
                //             "0.0181"
                //         ],
                //     "BitFury":
                //         [
                //             "0.1077",
                //             "0.1012",
                //             "0.0841",
                //             "0.0526",
                //             "0.0340",
                //             "0.0513",
                //             "0.0435",
                //             "0.0396",
                //             "0.0343",
                //             "0.0274",
                //             "0.0202",
                //             "0.0169"
                //         ],
                //     "58COIN":
                //         [
                //             0,
                //             0,
                //             0,
                //             0,
                //             0,
                //             0,
                //             0,
                //             0,
                //             0,
                //             0,
                //             "0.0115",
                //             "0.0133"
                //         ]
                // },
                start: "20170301",
                end: "20180201"
            },
            bipData: []
        };
        $(function() {
            var pieOpts = {
                credits: {
                    enabled: false
                },
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false,
                    type: 'pie',
                },
                title: {
                    text: ''
                },
                tooltip: {
                    pointFormat: '<b style="color: red;">{series.name}</b> : <b style="color: red;">{point.percentage:.1f}%(arr.a)</b>'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        depth: 35,
                        dataLabels: {
                            enabled: true,
                            format: '<b style="color: red;">{point.name}</b> : <b style="color: red;">{point.percentage:.1f} %</b>',
                            style: {
                                color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'red'
                            }
                        }
                    }
                },
                series: null
            }
            var dataSource = [];
            for (let pool of globals.pools) {
                dataSource.push({
                    name: pool.name,
                    y: pool.p
                });

            }
            console.log(dataSource)
            var series = [{
                name: "百分比",
                colorByPoint: true,
                data: dataSource
            }];

            $('.pool-panel-percentage-pie-chart-inner').highcharts($.extend({}, pieOpts, { series: series }));

        })
    </script>
<body>
<div>
    <div class="pool-panel-percentage-pie-chart-inner" style="min-width: 250px; height: 400px; margin: 0 auto;" data-highcharts-chart="0">
        <div class="highcharts-container"></div>
    </div>
    <div id="box"></div>
</div>

<script src="bdc.js"></script>
<!--<script src="https://s.btc.com/explorer/assets/vendor_096e7cc.js"></script>-->
</body>
</html>